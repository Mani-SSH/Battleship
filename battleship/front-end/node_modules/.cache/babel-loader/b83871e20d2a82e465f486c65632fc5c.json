{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\n\nvar _portalOpenInstances = require(\"./portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // Body focus trap see Issue #742\n\n\nvar before = void 0,\n    after = void 0,\n    instances = [];\n/* eslint-disable no-console */\n\n/* istanbul ignore next */\n\nfunction resetState() {\n  var _arr = [before, after];\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var item = _arr[_i];\n    if (!item) continue;\n    item.parentNode && item.parentNode.removeChild(item);\n  }\n\n  before = after = null;\n  instances = [];\n}\n/* istanbul ignore next */\n\n\nfunction log() {\n  console.log(\"bodyTrap ----------\");\n  console.log(instances.length);\n  var _arr2 = [before, after];\n\n  for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n    var item = _arr2[_i2];\n    var check = item || {};\n    console.log(check.nodeName, check.className, check.id);\n  }\n\n  console.log(\"edn bodyTrap ----------\");\n}\n/* eslint-enable no-console */\n\n\nfunction focusContent() {\n  if (instances.length === 0) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // eslint-disable-next-line no-console\n      console.warn(\"React-Modal: Open instances > 0 expected\");\n    }\n\n    return;\n  }\n\n  instances[instances.length - 1].focusContent();\n}\n\nfunction bodyTrap(eventType, openInstances) {\n  if (!before && !after) {\n    before = document.createElement(\"div\");\n    before.setAttribute(\"data-react-modal-body-trap\", \"\");\n    before.style.position = \"absolute\";\n    before.style.opacity = \"0\";\n    before.setAttribute(\"tabindex\", \"0\");\n    before.addEventListener(\"focus\", focusContent);\n    after = before.cloneNode();\n    after.addEventListener(\"focus\", focusContent);\n  }\n\n  instances = openInstances;\n\n  if (instances.length > 0) {\n    // Add focus trap\n    if (document.body.firstChild !== before) {\n      document.body.insertBefore(before, document.body.firstChild);\n    }\n\n    if (document.body.lastChild !== after) {\n      document.body.appendChild(after);\n    }\n  } else {\n    // Remove focus trap\n    if (before.parentElement) {\n      before.parentElement.removeChild(before);\n    }\n\n    if (after.parentElement) {\n      after.parentElement.removeChild(after);\n    }\n  }\n}\n\n_portalOpenInstances2.default.subscribe(bodyTrap);","map":{"version":3,"names":["Object","defineProperty","exports","value","resetState","log","_portalOpenInstances","require","_portalOpenInstances2","_interopRequireDefault","obj","__esModule","default","before","after","instances","_arr","_i","length","item","parentNode","removeChild","console","_arr2","_i2","check","nodeName","className","id","focusContent","process","env","NODE_ENV","warn","bodyTrap","eventType","openInstances","document","createElement","setAttribute","style","position","opacity","addEventListener","cloneNode","body","firstChild","insertBefore","lastChild","appendChild","parentElement","subscribe"],"sources":["D:/codes/Battleship/battleship/front-end/node_modules/react-modal/lib/helpers/bodyTrap.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\n\nvar _portalOpenInstances = require(\"./portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Body focus trap see Issue #742\n\nvar before = void 0,\n    after = void 0,\n    instances = [];\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  var _arr = [before, after];\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var item = _arr[_i];\n    if (!item) continue;\n    item.parentNode && item.parentNode.removeChild(item);\n  }\n  before = after = null;\n  instances = [];\n}\n\n/* istanbul ignore next */\nfunction log() {\n  console.log(\"bodyTrap ----------\");\n  console.log(instances.length);\n  var _arr2 = [before, after];\n  for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n    var item = _arr2[_i2];\n    var check = item || {};\n    console.log(check.nodeName, check.className, check.id);\n  }\n  console.log(\"edn bodyTrap ----------\");\n}\n/* eslint-enable no-console */\n\nfunction focusContent() {\n  if (instances.length === 0) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // eslint-disable-next-line no-console\n      console.warn(\"React-Modal: Open instances > 0 expected\");\n    }\n    return;\n  }\n  instances[instances.length - 1].focusContent();\n}\n\nfunction bodyTrap(eventType, openInstances) {\n  if (!before && !after) {\n    before = document.createElement(\"div\");\n    before.setAttribute(\"data-react-modal-body-trap\", \"\");\n    before.style.position = \"absolute\";\n    before.style.opacity = \"0\";\n    before.setAttribute(\"tabindex\", \"0\");\n    before.addEventListener(\"focus\", focusContent);\n    after = before.cloneNode();\n    after.addEventListener(\"focus\", focusContent);\n  }\n\n  instances = openInstances;\n\n  if (instances.length > 0) {\n    // Add focus trap\n    if (document.body.firstChild !== before) {\n      document.body.insertBefore(before, document.body.firstChild);\n    }\n    if (document.body.lastChild !== after) {\n      document.body.appendChild(after);\n    }\n  } else {\n    // Remove focus trap\n    if (before.parentElement) {\n      before.parentElement.removeChild(before);\n    }\n    if (after.parentElement) {\n      after.parentElement.removeChild(after);\n    }\n  }\n}\n\n_portalOpenInstances2.default.subscribe(bodyTrap);"],"mappings":"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"},"metadata":{},"sourceType":"script"}