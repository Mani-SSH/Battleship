{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n/* eslint-disable no-console */\n\n/* istanbul ignore next */\n\nfunction resetState() {\n  focusLaterElements = [];\n}\n/* istanbul ignore next */\n\n\nfunction log() {\n  if (process.env.NODE_ENV !== \"production\") {\n    console.log(\"focusManager ----------\");\n    focusLaterElements.forEach(function (f) {\n      var check = f || {};\n      console.log(check.nodeName, check.className, check.id);\n    });\n    console.log(\"end focusManager ----------\");\n  }\n}\n/* eslint-enable no-console */\n\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n\n    if (!modalElement) {\n      return;\n    } // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n\n\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n/* eslint-disable no-console */\n\n\nfunction returnFocus() {\n  var preventScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var toFocus = null;\n\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus({\n        preventScroll: preventScroll\n      });\n    }\n\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","resetState","log","handleBlur","handleFocus","markForFocusLater","returnFocus","popWithoutFocus","setupScopedFocus","teardownScopedFocus","_tabbable","require","_tabbable2","_interopRequireDefault","obj","__esModule","default","focusLaterElements","modalElement","needToFocus","process","env","NODE_ENV","console","forEach","f","check","nodeName","className","id","setTimeout","contains","document","activeElement","el","focus","push","preventScroll","arguments","length","undefined","toFocus","pop","e","warn","join","element","window","addEventListener","attachEvent","removeEventListener","detachEvent"],"sources":["D:/codes/Battleship/battleship/front-end/node_modules/react-modal/lib/helpers/focusManager.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  focusLaterElements = [];\n}\n\n/* istanbul ignore next */\nfunction log() {\n  if (process.env.NODE_ENV !== \"production\") {\n    console.log(\"focusManager ----------\");\n    focusLaterElements.forEach(function (f) {\n      var check = f || {};\n      console.log(check.nodeName, check.className, check.id);\n    });\n    console.log(\"end focusManager ----------\");\n  }\n}\n/* eslint-enable no-console */\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n    if (!modalElement) {\n      return;\n    }\n    // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n\n/* eslint-disable no-console */\nfunction returnFocus() {\n  var preventScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var toFocus = null;\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus({ preventScroll: preventScroll });\n    }\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"script"}