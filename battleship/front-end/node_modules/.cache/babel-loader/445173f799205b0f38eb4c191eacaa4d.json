{"ast":null,"code":"/**\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n \r\nconst Record = (props) => (\r\n <tr>\r\n   <td>{props.record.name}</td>\r\n   <td>{props.record.position}</td>\r\n   <td>{props.record.level}</td>\r\n   <td>\r\n     <Link className=\"btn btn-link\" to={`/edit/${props.record._id}`}>Edit</Link> |\r\n     <button className=\"btn btn-link\"\r\n       onClick={() => {\r\n         props.deleteRecord(props.record._id);\r\n       }}\r\n     >\r\n       Delete\r\n     </button>\r\n   </td>\r\n </tr>\r\n);\r\n \r\nexport default function RecordList() {\r\n const [records, setRecords] = useState([]);\r\n \r\n // This method fetches the records from the database.\r\n useEffect(() => {\r\n   async function getRecords() {\r\n     const response = await fetch(`http://localhost:5000/record/`);\r\n \r\n     if (!response.ok) {\r\n       const message = `An error occurred: ${response.statusText}`;\r\n       window.alert(message);\r\n       return;\r\n     }\r\n \r\n     const records = await response.json();\r\n     setRecords(records);\r\n   }\r\n \r\n   getRecords();\r\n \r\n   return;\r\n }, [records.length]);\r\n \r\n // This method will delete a record\r\n async function deleteRecord(id) {\r\n   await fetch(`http://localhost:5000/${id}`, {\r\n     method: \"DELETE\"\r\n   });\r\n \r\n   const newRecords = records.filter((el) => el._id !== id);\r\n   setRecords(newRecords);\r\n }\r\n \r\n // This method will map out the records on the table\r\n function recordList() {\r\n   return records.map((record) => {\r\n     return (\r\n       <Record\r\n         record={record}\r\n         deleteRecord={() => deleteRecord(record._id)}\r\n         key={record._id}\r\n       />\r\n     );\r\n   });\r\n }\r\n \r\n // This following section will display the table with the records of individuals.\r\n return (\r\n   <div>\r\n     <h3>Record List</h3>\r\n     <table className=\"table table-striped\" style={{ marginTop: 20 }}>\r\n       <thead>\r\n         <tr>\r\n           <th>Name</th>\r\n           <th>Position</th>\r\n           <th>Level</th>\r\n           <th>Action</th>\r\n         </tr>\r\n       </thead>\r\n       <tbody>{recordList()}</tbody>\r\n     </table>\r\n   </div>\r\n );\r\n}\r\n\r\nuseEffect(() => {\r\n  async function getRecords() {\r\n    const response = await fetch(`http://localhost:5000/record/`);\r\n\r\n    if (!response.ok) {\r\n      const message = `An error occurred: ${response.statusText}`;\r\n      window.alert(message);\r\n      return;\r\n    }\r\n\r\n    const records = await response.json();\r\n    setRecords(records);\r\n  }\r\n\r\n  getRecords();\r\n\r\n  return;\r\n}, [records.length]);\r\n\r\n// This method will delete a record\r\nasync function deleteRecord(id) {\r\n  await fetch(`http://localhost:5000/${id}`, {\r\n    method: \"DELETE\"\r\n  });\r\n\r\n  const newRecords = records.filter((el) => el._id !== id);\r\n  setRecords(newRecords);\r\n}\r\n*/","map":{"version":3,"names":[],"sources":["D:/codes/Battleship/battleship/src/components/recordList.js"],"sourcesContent":["/**\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n \r\nconst Record = (props) => (\r\n <tr>\r\n   <td>{props.record.name}</td>\r\n   <td>{props.record.position}</td>\r\n   <td>{props.record.level}</td>\r\n   <td>\r\n     <Link className=\"btn btn-link\" to={`/edit/${props.record._id}`}>Edit</Link> |\r\n     <button className=\"btn btn-link\"\r\n       onClick={() => {\r\n         props.deleteRecord(props.record._id);\r\n       }}\r\n     >\r\n       Delete\r\n     </button>\r\n   </td>\r\n </tr>\r\n);\r\n \r\nexport default function RecordList() {\r\n const [records, setRecords] = useState([]);\r\n \r\n // This method fetches the records from the database.\r\n useEffect(() => {\r\n   async function getRecords() {\r\n     const response = await fetch(`http://localhost:5000/record/`);\r\n \r\n     if (!response.ok) {\r\n       const message = `An error occurred: ${response.statusText}`;\r\n       window.alert(message);\r\n       return;\r\n     }\r\n \r\n     const records = await response.json();\r\n     setRecords(records);\r\n   }\r\n \r\n   getRecords();\r\n \r\n   return;\r\n }, [records.length]);\r\n \r\n // This method will delete a record\r\n async function deleteRecord(id) {\r\n   await fetch(`http://localhost:5000/${id}`, {\r\n     method: \"DELETE\"\r\n   });\r\n \r\n   const newRecords = records.filter((el) => el._id !== id);\r\n   setRecords(newRecords);\r\n }\r\n \r\n // This method will map out the records on the table\r\n function recordList() {\r\n   return records.map((record) => {\r\n     return (\r\n       <Record\r\n         record={record}\r\n         deleteRecord={() => deleteRecord(record._id)}\r\n         key={record._id}\r\n       />\r\n     );\r\n   });\r\n }\r\n \r\n // This following section will display the table with the records of individuals.\r\n return (\r\n   <div>\r\n     <h3>Record List</h3>\r\n     <table className=\"table table-striped\" style={{ marginTop: 20 }}>\r\n       <thead>\r\n         <tr>\r\n           <th>Name</th>\r\n           <th>Position</th>\r\n           <th>Level</th>\r\n           <th>Action</th>\r\n         </tr>\r\n       </thead>\r\n       <tbody>{recordList()}</tbody>\r\n     </table>\r\n   </div>\r\n );\r\n}\r\n\r\nuseEffect(() => {\r\n  async function getRecords() {\r\n    const response = await fetch(`http://localhost:5000/record/`);\r\n\r\n    if (!response.ok) {\r\n      const message = `An error occurred: ${response.statusText}`;\r\n      window.alert(message);\r\n      return;\r\n    }\r\n\r\n    const records = await response.json();\r\n    setRecords(records);\r\n  }\r\n\r\n  getRecords();\r\n\r\n  return;\r\n}, [records.length]);\r\n\r\n// This method will delete a record\r\nasync function deleteRecord(id) {\r\n  await fetch(`http://localhost:5000/${id}`, {\r\n    method: \"DELETE\"\r\n  });\r\n\r\n  const newRecords = records.filter((el) => el._id !== id);\r\n  setRecords(newRecords);\r\n}\r\n*/"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}